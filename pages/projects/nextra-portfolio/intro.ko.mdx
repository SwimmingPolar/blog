import { Tree, Folder, File, Screenshot } from "@/components";
import cn from "clsx";
import "@code-hike/mdx/dist/index.css";

# Nextra 후기

## 1. 난이도

    {" "}

블로그를 만들기 위해선 일단 템플릿을 사용하거나 처음부터 만들어야 하는데
처음부터 만들기에는 당연히 난이도가 높으니 템플릿을 사용하는 쪽으로 선택했다.
`노션`이나 깃헙페이지 `Jekyll`을 사용해서 구성하는 것을 많이 봤는데 `노션`은
유난히 복잡해 보인다. 얼핏 보면 컴포넌트를 쓱쓱 붙이는 것 같지만, 세세히
조절하는 기능들이 많기에 무슨 디자인 시스템 구축하는 것처럼 보인다. `Jekyll`은
많이 들어봤지만, 뭔지 모르겠지만, 어딘가 약간 아쉬운 듯한 느낌이
있다. 내가 다 하기에는 귀찮은데 어딘가 완성되어 있는 쿠킹팩 같은 느낌으로다가...
`nextra`를 선택했다.

<Tree>
  <Folder name="기능" defaultOpen>
    <File name="마크다운" />
    <File name="코드 하이라이트" />
    <File name="이미지 최적화" />
    <File name="배포(Deploy)" />
    <File name="SSG / SSR" />
    <File name="SEO" />
  </Folder>
</Tree>

너무 많은 기능을 제공하지도 않고 적당하게 불필요한 것들을 빼고 웹 개발자가
쉽게 사이트를 구성해나갈 수 있게끔 적절한 것이 준비되어 있다. [`CodeHike`](https://codehike.org/demo/spotlight)
같은 코드 하이라이트 라이브러리를 설치하려면 MDX2가 필요한데, 기본적으로 MDX2를 지원하니까
따로 설치해서 설정해줄 필요가 없다. MDX가 필요한 플러그인이나 라이브러리는 바로 설치해서 사용 가능하다.

<CH.Code>

```js app.js focus=2:4
function lorem(ipsum, dolor = 1) {
  const sit = ipsum == null ? 0 : ipsum.sit;
  dolor = sit - amet(dolor);
  return sit ? consectetur(ipsum) : [];
}
```

```python hello.py
print("Hello, world!")
```

---

```css styles.css
.lorem {
  color: #fff;
  padding: 10px;
  background: #000;
}
```

</CH.Code>

## 2. 완성도

    {" "}

지금 시점에서 제공되는 `theme`이 따로 없어 처음부터 구성해나가야 하지만
적절한 컴포넌트들이 적절하게 제공되고 디자인되어 있어 내가 필요한 것들만
붙이면 완성도가 높은 블로그가 완성된다. `Jekyll`의 테마를 고르려고
이것저것 켜보고 끄고 하는데, 내가 원하는 것들을 찾기가 어렵다. 차라리
`nextra`처럼 `navbar`, `sidebar`, `footer` 거기다 `searchbar`까지
제공해주고, 그걸 내가 원하는 대로 커스터마이징해서 사용하면 되니 더 편하다.
커스터마이징이 필요 없으면 그대로 사용해도 될 정도로 완성도가 높다.
디자인은 뭔가 물리지 않을 정도로 깔끔하지만 그렇다고 뒤처지지도 않는...?

라우팅이나 라우팅에 따른 메뉴 등을 만들려면 간단하긴 해도 조금 귀찮다.
근데 `nextra`는 `next.js`를 사용하니 `pages`에 파일만 만들어주면
`nextra`에서 제공하는 `navbar`에 자동으로 링크가 생긴다. `navbar`에서
링크의 이름이나 위치를 바꾸려면 `nextra`에서 인식하는 `_meta.json`파일만 수정하면 된다.

기본적인 설정을 끝내고 나면 `page` 폴더에 `mdx` 파일을 만들어서 글을 작성하면 된다.
`next.js`를 사용하고 있기 때문에 `i18n` 설정도 쉬워 언어에 대응하기도 편하다.

**\_meta.json 설정**

import MetaJsonScreenshot from "../../../public/pages/projects/nextra-portfolio/_meta.json.png";

<Screenshot
  src={MetaJsonScreenshot}
  alt="_meta.json.screenshot"
  caption="_meta.json 설정"
/>

<br />

<CH.Code>
```json _meta.en.json
{
  "*": {
    "type": "page"
  },
  "index": {
    "title": "Summary"
  },
  "projects": {
    "title": "Projects"
  },
  "stacks": {
    "title": "Stacks"
  },
  "contact": {
    "title": "Contact"
  }
}
```

```json _meta.ko.json
{
  "*": {
    "type": "page"
  },
  "index": {
    "title": "요약"
  },
  "projects": {
    "title": "프로젝트"
  },
  "stacks": {
    "title": "기술 스택"
  },
  "contact": {
    "title": "연락처"
  }
}
```

</CH.Code>

**\_meta.json 설정 결과**

import NavbarScreenshot from "../../../public/pages/projects/nextra-portfolio/navbar.png";

<Screenshot
  src={NavbarScreenshot}
  alt="navbar.screenshot"
  caption="_meta.json 설정 결과"
/>

별다른 설정 없이 `navbar` 컴포넌트에 추가된 페이지가 나오고, `_meta.json`에 설정한
순서와 이름이 페이지 파일 이름에 매핑돼서 출력된다.

## 3. 장단점

### 장점

장점은 앞서 말한 것들이 되겠고, 사실 다른 블로그 템플릿이나 라이브러리 써보질 않아서
이렇다고 말을 할 순 없겠다. 그래도 굳이 `nextra`를 사용하면서 느낀 장점을 꼽자면, 앞서 말한 기능들을 제외하곤
흠... 딱히 없네. 다만 그 전에 사용해봤던 `노션`이나 사용하려고 시도해봤던 `Jekyll`을 마주하면서
뭔지 모를 불편감이 없다는 게 제일 큰 장점이 아닐까 싶다.

블로그를 사용하는데 사실 `노션`에서처럼 수많은 컴포넌트와 이모지... 왜인지 모르겠지만
더 깔끔하게 만들기 위해 나도 모르게 과하게 중첩시키는 폴더들 아니면 `Jekyll`을 쓰려고
마음먹었을 때, 뭔가 더 완벽한 스킨을 찾아 헤매던 그런 것들이 없었다. 그냥

> 설치 -> 설정 -> 배포 -> MDX 파일 작성

`노션`은 오히려 처음부터 모든 걸 주니 너무 과하게 많은 것들이 있어서 뭘 해야 할지 모르겠고,
알게 될수록 굳이 더 많은 것들을 넣으려고 노력하게 되는 것 같았다.
`nextra`는 설정을 하면서 점점 지치니 적당 선을 찾아주는 게 장점인가? 😂

### 단점

#### 커스터마이징

아무래도 프레임워크이니 추상화 된 것들이 많고, `next.js` 기반이라 좋긴 해도 `next.js`를 사용해보지
않았으면 먼저 튜터리얼을 통해 `next.js`를 찍먹해봐야 `nextra`를 사용하기 편하다.

제일 큰 단점은 `next.js`를 알아야 `nextra`를 사용하기 편한 게 되겠고, 편하게 추상화 시킨
부분이 많다 보니 이를 끄집어 내서 커스터마이징하려고 할 때, 어디서 꺼내와야 하고 어딜
수정해야 하는가? 등을 알아내기가 쉽지 않았다. 예를 들어 `navbar`가 제공돼서 편하긴 한데...
스타일링을 할 때 `nextra`에서 제공하는 기능을 통한 게 아니라, `globals.css`를 통해
강제로 커스터마이징을 하게 되면 나중에 `nextra`가 업데이트되면서 그 부분들이 바뀔 수 있다는
불안감이 조금 있다.

#### 문서화

아직 신생 프로젝트이다 보다 문서화가 잘 되어있지 않다. `nextra`에는 두 가지 기본 `theme`이 있다.
`doc`과 `blog`가 존재하는데 현재는 `doc`에 대한 문서만 제공되고 있고 이도 완벽하진 않다.
프로젝트 maintainer의 활동 자체는 활발하니 큰 문제는 아닌 거 같다.

장점이나 단점 둘 다 별로 메리트가 없어서 결국 개인 성향이 맞았다고 볼 수 있겠다.
